if(![].indexOf){Array.prototype.indexOf=function(A){var C=-1;for(var B=0;B<this.length;B++){if(A===this[B]){C=B;break}}return C};Array.prototype.lastIndexOf=function(A){var C=-1;for(var B=this.length-1;B>-1;B--){if(A===this[B]){C=B;break}}return C}}if(![].forEach){Array.prototype.forEach=function(B){for(var A=0;A<this.length;A++){if(typeof B==="function"){B.call(this,this[A],A)}}}}if(typeof JSON==="undefined"){window.JSON=new Object()}window.readVariableType=function(B,A){return Object.prototype.toString.call(B).toLowerCase()==="[object "+A+"]"};(function(){window.Class=function(){var C=["__constructor__","initialize"],A=arguments,B=this;var D=function(){this.__constructor__="ECM.CLASS.FACTORY";return typeof this.initialize==="function"?this.initialize.apply(this,arguments):this};this.constructor=D;this.constructor.__constructor__=this.__constructor__="ECM.CLASS";this.constructor.extend=function(E){if(E.__constructor__&&E.__constructor__==="ECM.CLASS"){if(E.prototype){for(var F in E.prototype){if(C.indexOf(F)===-1){B.constructor.prototype[F]=E.prototype[F]}}}}return B.constructor};this.constructor.toggle=function(F){if(!F){return B.constructor}if(readVariableType(F)!=="array"){F=[F]}for(var E=0;E<F.length;E++){B.constructor.extend(F[E])}return B.constructor};this.constructor.add=function(F,E){if(!E){for(var G in F){B.constructor.add(G,F[G])}}else{B.constructor.prototype[F]=E}return B.constructor};if(A.length===2){this.constructor.extend(A[0]);this.constructor.add(A[1])}else{if(A.length===1){if(A[0]&&A[0].__constructor__&&A[0].__constructor__==="ECM.CLASS"){this.constructor.extend(A[0])}else{if(typeof A[0]==="function"){this.constructor.add("initialize",A[0])}else{this.constructor.add(A[0])}}}}return this.constructor}})();(function(){function e(Am){return typeof Am==="function"||(typeof Am==="object"&&Am!==null)}function C(Am){return typeof Am==="function"}function x(Am){return typeof Am==="object"&&Am!==null}var o;if(!Array.isArray){o=function(Am){return Object.prototype.toString.call(Am)==="[object Array]"}}else{o=Array.isArray}var Ak=o;var g=Date.now||function(){return new Date().getTime()};function M(){}var Q=(Object.create||function(Am){if(arguments.length>1){throw new Error("Second argument not supported")}if(typeof Am!=="object"){throw new TypeError("Argument must be an object")}M.prototype=Am;return new M()});var R=0;var y=function A(An,Am){Z[R]=An;Z[R+1]=Am;R+=2;if(R===2){b()}};var Ab=(typeof window!=="undefined")?window:{};var I=Ab.MutationObserver||Ab.WebKitMutationObserver;var D=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function Aa(){return function(){process.nextTick(n)}}function r(){var Am=0;var An=new I(n);var Ao=document.createTextNode("");An.observe(Ao,{characterData:true});return function(){Ao.data=(Am=++Am%2)}}function i(){var Am=new MessageChannel();Am.port1.onmessage=n;return function(){Am.port2.postMessage(0)}}function v(){return function(){setTimeout(n,1)}}var Z=new Array(1000);function n(){for(var An=0;An<R;An+=2){var Ao=Z[An];var Am=Z[An+1];Ao(Am);Z[An]=undefined;Z[An+1]=undefined}R=0}var b;if(typeof process!=="undefined"&&{}.toString.call(process)==="[object process]"){b=Aa()}else{if(I){b=r()}else{if(D){b=i()}else{b=v()}}}function w(){}var j=void 0;var Ag=1;var Aj=2;var d=new p();function z(){return new TypeError("You cannot resolve a promise with itself")}function J(){return new TypeError("A promises callback cannot return that same promise.")}function V(An){try{return An.then}catch(Am){d.error=Am;return d}}function Al(Ao,An,Ap,Am){try{Ao.call(An,Ap,Am)}catch(Aq){return Aq}}function l(Ao,An,Am){y(function(Ar){var Aq=false;var Ap=Al(Am,An,function(As){if(Aq){return}Aq=true;if(An!==As){Af(Ar,As)}else{S(Ar,As)}},function(As){if(Aq){return}Aq=true;E(Ar,As)},"Settle: "+(Ar._label||" unknown promise"));if(!Aq&&Ap){Aq=true;E(Ar,Ap)}},Ao)}function f(An,Am){if(Am._state===Ag){S(An,Am._result)}else{if(An._state===Aj){E(An,Am._result)}else{Ad(Am,undefined,function(Ao){Af(An,Ao)},function(Ao){E(An,Ao)})}}}function Ae(Ao,An){if(An.constructor===Ao.constructor){f(Ao,An)}else{var Am=V(An);if(Am===d){E(Ao,d.error)}else{if(Am===undefined){S(Ao,An)}else{if(C(Am)){l(Ao,An,Am)}else{S(Ao,An)}}}}}function Af(An,Am){if(An===Am){E(An,z())}else{if(e(Am)){Ae(An,Am)}else{S(An,Am)}}}function q(Am){if(Am._onerror){Am._onerror(Am._result)}T(Am)}function S(An,Am){if(An._state!==j){return}An._result=Am;An._state=Ag;if(An._subscribers.length===0){}else{y(T,An)}}function E(An,Am){if(An._state!==j){return}An._state=Aj;An._result=Am;y(q,An)}function Ad(Ao,Aq,Am,Ap){var An=Ao._subscribers;var Ar=An.length;Ao._onerror=null;An[Ar]=Aq;An[Ar+Ag]=Am;An[Ar+Aj]=Ap;if(Ar===0&&Ao._state){y(T,Ao)}}function T(As){var An=As._subscribers;var Aq=As._state;if(An.length===0){return}var Ao,Am,Ar=As._result;for(var Ap=0;Ap<An.length;Ap+=3){Ao=An[Ap];Am=An[Ap+Aq];if(Ao){H(Aq,Ao,Am,Ar)}else{Am(Ar)}}As._subscribers.length=0}function p(){this.error=null}var t=new p();function Ai(Ao,Am){try{return Ao(Am)}catch(An){t.error=An;return t}}function H(At,Aq,Au,Ao){var Ar=C(Au),An,Ap,As,Am;if(Ar){An=Ai(Au,Ao);if(An===t){Am=true;Ap=An.error;An=null}else{As=true}if(Aq===An){E(Aq,J());return}}else{An=Ao;As=true}if(Aq._state!==j){}else{if(Ar&&As){Af(Aq,An)}else{if(Am){E(Aq,Ap)}else{if(At===Ag){S(Aq,An)}else{if(At===Aj){E(Aq,An)}}}}}}function h(Aq,Am){try{Am(function Ap(Ar){Af(Aq,Ar)},function An(Ar){E(Aq,Ar)})}catch(Ao){E(Aq,Ao)}}function s(Am,Ao,An){if(Am===Ag){return{state:"fulfilled",value:An}}else{return{state:"rejected",reason:An}}}function Y(Ao,An,Ap,Am){this._instanceConstructor=Ao;this.promise=new Ao(w,Am);this._abortOnReject=Ap;if(this._validateInput(An)){this._input=An;this.length=An.length;this._remaining=An.length;this._init();if(this.length===0){S(this.promise,this._result)}else{this.length=this.length||0;this._enumerate();if(this._remaining===0){S(this.promise,this._result)}}}else{E(this.promise,this._validationError())}}Y.prototype._validateInput=function(Am){return Ak(Am)};Y.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")};Y.prototype._init=function(){this._result=new Array(this.length)};var P=Y;Y.prototype._enumerate=function(){var Ao=this.length;var Ap=this.promise;var Am=this._input;for(var An=0;Ap._state===j&&An<Ao;An++){this._eachEntry(Am[An],An)}};Y.prototype._eachEntry=function(Am,Ao){var An=this._instanceConstructor;if(x(Am)){if(Am.constructor===An&&Am._state!==j){Am._onerror=null;this._settledAt(Am._state,Ao,Am._result)}else{this._willSettleAt(An.resolve(Am),Ao)}}else{this._remaining--;this._result[Ao]=this._makeResult(Ag,Ao,Am)}};Y.prototype._settledAt=function(Am,Ao,An){var Ap=this.promise;if(Ap._state===j){this._remaining--;if(this._abortOnReject&&Am===Aj){E(Ap,An)}else{this._result[Ao]=this._makeResult(Am,Ao,An)}}if(this._remaining===0){S(Ap,this._result)}};Y.prototype._makeResult=function(Am,Ao,An){return An};Y.prototype._willSettleAt=function(Ao,An){var Am=this;Ad(Ao,undefined,function(Ap){Am._settledAt(Ag,An,Ap)},function(Ap){Am._settledAt(Aj,An,Ap)})};var W=function u(Am,An){return new P(this,Am,true,An).promise};var N=function m(At,As){var An=this;var Aq=new An(w,As);if(!Ak(At)){E(Aq,new TypeError("You must pass an array to race."));return Aq}var Ar=At.length;function Ap(Au){Af(Aq,Au)}function Ao(Au){E(Aq,Au)}for(var Am=0;Aq._state===j&&Am<Ar;Am++){Ad(An.resolve(At[Am]),undefined,Ap,Ao)}return Aq};var F=function Ac(An,Am){var Ao=this;if(An&&typeof An==="object"&&An.constructor===Ao){return An}var Ap=new Ao(w,Am);Af(Ap,An);return Ap};var B=function K(An,Am){var Ao=this;var Ap=new Ao(w,Am);E(Ap,An);return Ap};var Ah=0;function c(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function k(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var X=G;function G(Am,An){this._id=Ah++;this._label=An;this._state=undefined;this._result=undefined;this._subscribers=[];if(w!==Am){if(!C(Am)){c()}if(!(this instanceof G)){k()}h(this,Am)}}G.all=W;G.race=N;G.resolve=F;G.reject=B;G.prototype={constructor:G,then:function(Ap,Am,Aq){var Ar=this;var Ao=Ar._state;if(Ao===Ag&&!Ap||Ao===Aj&&!Am){return this}Ar._onerror=null;var As=new this.constructor(w,Aq);var An=Ar._result;if(Ao){var At=arguments[Ao-1];y(function(){H(Ao,As,At,An)})}else{Ad(Ar,As,Ap,Am)}return As},"catch":function(An,Am){return this.then(null,An,Am)}};var U=function L(){var Am;if(typeof global!=="undefined"){Am=global}else{if(typeof window!=="undefined"&&window.document){Am=window}else{Am=self}}var An="Promise" in Am&&"resolve" in Am.Promise&&"reject" in Am.Promise&&"all" in Am.Promise&&"race" in Am.Promise&&(function(){var Ao;new Am.Promise(function(Ap){Ao=Ap});return C(Ao)}());if(!An){Am.Promise=X}};var O={Promise:X,polyfill:U};if(typeof define==="function"&&define["amd"]){define(function(){return O})}else{if(typeof module!=="undefined"&&module["exports"]){module["exports"]=O}else{if(typeof this!=="undefined"){this["ES6Promise"]=O}}}if(this["ES6Promise"]&&window&&!window.Promise){window.Promise=O.Promise;window.polyfill=O.polyfill}}).call(this);(function(g,D,N){var l=g.origin?g.origin:g.href.split("/").slice(0,3).join("/"),h=l,S=g.href.split("?")[0];var C=/\\\\/g,e=/^\/.+/,K=/^http\:\/\//i,I=/^\.\.\/.+/,j=/^\.\/.+/,Y=/^\:.+/,J=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g;function R(){this.exports={};this.length=0;this.maps={};this.Promise=Promise.resolve();this.LoadedModules=[]}function X(){this.exports={};this.__modename=null;this.__filename=null;this.__dirname=null;this.dependencies=[];this.factory=function(){};this.async=false;this.inDefine=false}var O=new Class(function(){this.httpDomain=l;this.httpBase=h;this.httpFile=S});O.add("onMap",function(o,p){window.modules.maps[o]=p;return this});O.add("setBase",function(o){if(o&&o.length>0){if(/^http:/i.test(o)){this.httpBase=o;this.httpDomain=o.split("/").slice(0,3).join("/")}else{this.httpBase+="/"+o}}if(/\/$/.test(this.httpBase)){this.httpBase=this.httpBase.replace(/\/$/,"")}return this});O.add("proxy",function(o,p){return function(){var q=arguments;return o.apply(p,q)}});R.prototype.status={pending:0,analyzed:1,required:2,compiled:3};R.prototype.debug=false;window.Library=new O();window.modules=new R();window.modules.debug=false;function f(p){var t={};var q=[];for(var r=0,o=p.length;r<o;r++){var s=p[r];if(t[s]!==1){t[s]=1;q.push(s)}}return q}function Q(p){var q=[],o;J.lastIndex=0;p=p.replace(C,"");while((o=J.exec(p))){if(o[2]){q.push(o[2])}}return f(q)}function M(){if(window.document.currentScript){return window.document.currentScript}var r;try{a.b.c()}catch(t){r=t.stack;if(!r&&window.opera){r=(String(t).match(/of linked script \S+/g)||[]).join(" ")}}if(r){r=r.split(/[@ ]/g).pop();r=r[0]=="("?r.slice(1,-1):r;var o=r.replace(/(:\d+)?:\d+$/i,"");var q=D.getElementsByTagName("script");for(var s=0;s<q.length;s++){if(q[p].src.toLowerCase()==o.toLowerCase()){return q[p]}}}var q=D.getElementsByTagName("script");for(var p=0,u;u=q[p++];){if(u.readyState==="interactive"){return u}}}function B(){var o=M();if(!o){o=Array.prototype.slice.call(document.scripts,0).shift().src}return o}function T(p,o){if(window.modules.maps[p]){p=window.modules.maps[p]}if(e.test(p)){p=Library.httpDomain+p}else{if(K.test(p)){p=p}else{if(I.test(p)){p=n(o+"/"+p)}else{if(j.test(p)){p=o+"/"+p.replace(/^\.\//,"")}else{if(Y.test(p)){p=p.replace(/^:/,"").replace(/^\//,"");p=Library.httpBase+"/"+p}else{p=o+"/"+p.replace(/^\.\//,"")}}}}}return p}function V(p,o){p=T(p,o);if(!p){return}if(/\.css$/i.test(p)){p=p}else{if(/\.js$/i.test(p)){p=p}else{p+=".js"}}return p}function L(q,p,o){if(window.modules.maps[q]){q=window.modules.maps[q]}if(e.test(q)){q=o+q}else{if(K.test(q)){q=q}else{if(I.test(q)){q=n(o+"/"+q)}else{if(j.test(q)){q=o+"/"+q.replace(/^\.\//,"")}else{q=p+"/"+q.replace(/^\.\//,"")}}}}if(/\.css$/i.test(q)){q=q}else{if(/\.js$/i.test(q)){q=q}else{q+=".js"}}return q}function n(u){var t=u.replace(Library.httpDomain,"");if(/^\//.test(t)){t=t.replace(/^\//,"")}var s=t.split("/"),r=s.indexOf("..");if(r>-1){r--;if(r<0){r=0;s.splice(0,1)}else{s.splice(r,2)}var o=s.join("/");if(!K.test(o)){o=Library.httpDomain+"/"+o}return n(o)}else{var q=s.join("/");if(!K.test(q)){q=Library.httpDomain+"/"+q}return q}}function b(o){var q=0;for(var p in o){q++}return q===0}function Z(o){return new Promise(function(p){var q=document.createElement("script");q.onload=q.onerror=q.onreadystatechange=function(){if(/loaded|complete|undefined/i.test(q.readyState)){q.onload=q.onerror=q.onreadystatechange=null;p(q)}};q.async=true;q.src=o;D.insertBefore(q,D.firstChild)})}function A(q,o,p){return new Promise(function(s){var t=window.document.createElement("link");var r=o||window.document.getElementsByTagName("script")[0];var w=window.document.styleSheets;t.rel="stylesheet";t.href=q;t.media="only x";r.parentNode.insertBefore(t,r);var u=new Date().getTime();function v(){if(new Date().getTime()-u>30000){reject(t);return}var x;for(var y=0;y<w.length;y++){if(w[y].href&&w[y].href.indexOf(q)>-1){x=true}}if(x){t.media=p||"all";s(t)}else{setTimeout(v)}}v()})}function G(o){if(/\.css(?:\?|$)/i.test(o)){return A(o)}else{return Z(o)}}function k(o){return o.split("/").slice(0,-1).join("/")}function W(o,p){window.modules.exports[o.__modename].status=window.modules.status[p]}function F(o){return window.modules.exports[o.__modename].status}function P(o){var p=[];o.forEach(function(q){var s=null;try{s=window.modules.exports[q].module.exports}catch(r){}p.push(s)});return p}function E(o){try{return window.modules.exports[o].module.exports}catch(p){return null}}function m(){if(window.modules.debug){console.log.apply(console,arguments)}}window.define=window.define||function(){var p=null,r=[],w=null,x=false,t=false;for(var o=0;o<arguments.length;o++){var s=arguments[o];if(readVariableType(s,"function")){w=s}else{if(readVariableType(s,"boolean")){x=s}else{if(readVariableType(s,"array")){r=s}else{if(readVariableType(s,"string")){p=s}else{w=s}}}}}var q=B();if(!q){throw"can not find node";return}var u=new X();var y=[];if(w&&typeof w==="function"){y=Q(w.toString())}if(y.length>0){r=r.concat(y)}u.__filename=q.src;u.__dirname=k(u.__filename);u.dependencies=r;u.factory=w;u.async=x;if(p&&p.length>0){u.__modename=p;m("pending[inDefine]:",u.__modename);u.__modename=V(u.__modename,u.__dirname);m("pending[inDefine]:",u.__modename);t=true;u.inDefine=true}else{u.__modename=u.__filename}if(window.modules.exports[u.__modename]){return}window.modules.exports[u.__modename]={};window.modules.exports[u.__modename].inDefine=u.inDefine;W(u,"pending");m("pending:",u.__modename);var v=[];m("pending[dependencies]:",u.__modename,u.dependencies);if(u.dependencies.length>0){u.dependencies.forEach(function(z){if(t){v.push(L(z,u.__dirname,k(u.__modename)))}else{v.push(V(z,u.__dirname))}});u.dependencies=v}W(u,"analyzed");m("analyzed:",u.__modename);if(!window.define.amd[u.__filename]){m("run on brower:",u.__modename,u);H(u)}else{m("require[regist]:",u.__modename);window.modules.LoadedModules.push(u);if(N){q.LoadedModules=Array.prototype.slice.call(window.modules.LoadedModules,0)}}};window.define.amd={};function H(o){c(o)}var U=new Class(function(o){this.AbsoluteHttpSelector=o;return this.compile()});U.add("compile",function(){var o=this.AbsoluteHttpSelector;return new Promise(function(p){window.define.amd[o]=true;m("require[pending]:",o);if(window.modules.exports[o]&&window.modules.exports[o].inDefine){if(window.modules.exports[o].status<3){m("require[inDefine][wait]:",o);i(o,p)}else{p()}}else{if(window.modules.exports[o]&&window.modules.exports[o].status<3){m("require[inDefine][wait]:",o);i(o,p)}else{if(!window.modules.exports[o]){G(o).then(function(t){var s=t.LoadedModules,q=[];if(!s){s=window.modules.LoadedModules}if(s.length===0){var r=new X();r.__filename=t.src?t.src:t.href;r.__modename=r.__filename;r.__dirname=k(r.__modename);window.modules.exports[r.__modename]={};W(r,"analyzed");s=[r]}s=Array.prototype.slice.call(s,0);window.modules.LoadedModules=[];s.forEach(function(u){q.push(c(u))});m("require[loaded]:",o,q);Promise.all(q).then(function(){var u=t.src?t.src:t.href;if(/\.js$/.test(u)){t.parentNode.removeChild(t)}p();m("require[compiled]:",o,s)})})}else{p()}}}})});var i=function(o,p){setTimeout(function(){m("waiting:",o);if(window.modules.exports[o].status===3){m("waited:",o);p()}else{i(o,p)}},1)};window.require=function(o,p){return window.modules.Promise=window.modules.Promise.then(function(){if(!readVariableType(o,"array")){o=[o]}var t=[],r=[];for(var s=0;s<o.length;s++){var q=V(o[s],k(Library.httpFile));t.push(new U(q));r.push(q)}return Promise.all(t).then(function(){var u=P(r);typeof p==="function"&&p.apply(null,u);return Promise.resolve(u)})})};function c(q){var o=q.dependencies,p=q;m("dependencies[pending]:",q.__modename,o);return new Promise(function(s){if(o.length>0){if(!p.async){m("dependencies[doing][cmd]:",p.__modename);var t=[];o.forEach(function(v){m("dependencies[getting][cmd]:",v);t.push(new U(v))});Promise.all(t).then(function(){m("dependencies[getted][cmd]:",p.__modename);W(p,"required");d(p,P(o));s()})}else{m("dependencies[doing][amd]:",q.__modename);var r=[];var u=function(w,x,y){if(w+1>x.length){y()}else{m("dependencies[getting][amd]:",x[w]);var v=new U(x[w]);v.then(function(){r.push(E(x[w]));m("dependencies[getted][amd]:",p.__modename);u(++w,x,y)})}};u(0,o,function(){m("dependencies[done]:",p.__modename);W(p,"required");d(p,r);s()})}}else{m("dependencies[done]:",q.__modename,[]);W(q,"required");d(q);s()}})}function d(t,q){var r=t.factory,s=function(u){u=V(u,t.__dirname);return E(u)};m("compile[pending]:",t.__modename);var o=null,q=q?q:[];t.require=s;t.resolve=function(u){return V.call(t,u,t.__dirname)};t.contrast=function(u){return T.call(t,u,t.__dirname)};m("compile[extend]:",t.__modename);window.modules.exports[t.__modename].module=t;try{q=q.concat([s,t.exports,t]);if(typeof r==="function"){o=r.apply(t,q)||null}else{o=r}m("compile[success]:",t.__modename,o)}catch(p){o=window.modules.exports[t.__modename].module.exports;m("compile[error]:",t.__modename,p.message)}if(o){window.modules.exports[t.__modename].module.exports=o}W(t,"compiled");m("compile[end]:",t.__modename,o)}})(window.location,head=document.head||document.getElementsByTagName("head")[0]||document.documentElement,window.navigator.userAgent.indexOf("MSIE")>-1);(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());