if(![].indexOf){Array.prototype.indexOf=function(A){var C=-1;for(var B=0;B<this.length;B++){if(A===this[B]){C=B;break}}return C};Array.prototype.lastIndexOf=function(A){var C=-1;for(var B=this.length-1;B>-1;B--){if(A===this[B]){C=B;break}}return C}}if(![].forEach){Array.prototype.forEach=function(B){for(var A=0;A<this.length;A++){if(typeof B==="function"){B.call(this,this[A],A)}}}}if(typeof JSON==="undefined"){window.JSON=new Object()}window.readVariableType=function(B,A){return Object.prototype.toString.call(B).toLowerCase()==="[object "+A+"]"};(function(){window.Class=function(){var C=["__constructor__","initialize"],A=arguments,B=this;var D=function(){this.__constructor__="ECM.CLASS.FACTORY";return typeof this.initialize==="function"?this.initialize.apply(this,arguments):this};this.constructor=D;this.constructor.__constructor__=this.__constructor__="ECM.CLASS";this.constructor.extend=function(E){if(E.__constructor__&&E.__constructor__==="ECM.CLASS"){if(E.prototype){for(var F in E.prototype){if(C.indexOf(F)===-1){B.constructor.prototype[F]=E.prototype[F]}}}}return B.constructor};this.constructor.toggle=function(F){if(!F){return B.constructor}if(readVariableType(F)!=="array"){F=[F]}for(var E=0;E<F.length;E++){B.constructor.extend(F[E])}return B.constructor};this.constructor.add=function(F,E){if(!E){for(var G in F){B.constructor.add(G,F[G])}}else{B.constructor.prototype[F]=E}return B.constructor};if(A.length===2){this.constructor.extend(A[0]);this.constructor.add(A[1])}else{if(A.length===1){if(A[0]&&A[0].__constructor__&&A[0].__constructor__==="ECM.CLASS"){this.constructor.extend(A[0])}else{if(typeof A[0]==="function"){this.constructor.add("initialize",A[0])}else{this.constructor.add(A[0])}}}}return this.constructor}})();(function(){function d(Al){return typeof Al==="function"||(typeof Al==="object"&&Al!==null)}function C(Al){return typeof Al==="function"}function w(Al){return typeof Al==="object"&&Al!==null}var n;if(!Array.isArray){n=function(Al){return Object.prototype.toString.call(Al)==="[object Array]"}}else{n=Array.isArray}var Aj=n;var f=Date.now||function(){return new Date().getTime()};function M(){}var Q=(Object.create||function(Al){if(arguments.length>1){throw new Error("Second argument not supported")}if(typeof Al!=="object"){throw new TypeError("Argument must be an object")}M.prototype=Al;return new M()});var R=0;var x=function A(Am,Al){Z[R]=Am;Z[R+1]=Al;R+=2;if(R===2){a()}};var Aa=(typeof window!=="undefined")?window:{};var I=Aa.MutationObserver||Aa.WebKitMutationObserver;var D=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function z(){return function(){process.nextTick(m)}}function q(){var Al=0;var Am=new I(m);var An=document.createTextNode("");Am.observe(An,{characterData:true});return function(){An.data=(Al=++Al%2)}}function h(){var Al=new MessageChannel();Al.port1.onmessage=m;return function(){Al.port2.postMessage(0)}}function u(){return function(){setTimeout(m,1)}}var Z=new Array(1000);function m(){for(var Am=0;Am<R;Am+=2){var An=Z[Am];var Al=Z[Am+1];An(Al);Z[Am]=undefined;Z[Am+1]=undefined}R=0}var a;if(typeof process!=="undefined"&&{}.toString.call(process)==="[object process]"){a=z()}else{if(I){a=q()}else{if(D){a=h()}else{a=u()}}}function v(){}var i=void 0;var Af=1;var Ai=2;var c=new o();function y(){return new TypeError("You cannot resolve a promise with itself")}function J(){return new TypeError("A promises callback cannot return that same promise.")}function V(Am){try{return Am.then}catch(Al){c.error=Al;return c}}function Ak(An,Am,Ao,Al){try{An.call(Am,Ao,Al)}catch(Ap){return Ap}}function k(An,Am,Al){x(function(Aq){var Ap=false;var Ao=Ak(Al,Am,function(Ar){if(Ap){return}Ap=true;if(Am!==Ar){Ae(Aq,Ar)}else{S(Aq,Ar)}},function(Ar){if(Ap){return}Ap=true;E(Aq,Ar)},"Settle: "+(Aq._label||" unknown promise"));if(!Ap&&Ao){Ap=true;E(Aq,Ao)}},An)}function e(Am,Al){if(Al._state===Af){S(Am,Al._result)}else{if(Am._state===Ai){E(Am,Al._result)}else{Ac(Al,undefined,function(An){Ae(Am,An)},function(An){E(Am,An)})}}}function Ad(An,Am){if(Am.constructor===An.constructor){e(An,Am)}else{var Al=V(Am);if(Al===c){E(An,c.error)}else{if(Al===undefined){S(An,Am)}else{if(C(Al)){k(An,Am,Al)}else{S(An,Am)}}}}}function Ae(Am,Al){if(Am===Al){E(Am,y())}else{if(d(Al)){Ad(Am,Al)}else{S(Am,Al)}}}function p(Al){if(Al._onerror){Al._onerror(Al._result)}T(Al)}function S(Am,Al){if(Am._state!==i){return}Am._result=Al;Am._state=Af;if(Am._subscribers.length===0){}else{x(T,Am)}}function E(Am,Al){if(Am._state!==i){return}Am._state=Ai;Am._result=Al;x(p,Am)}function Ac(An,Ap,Al,Ao){var Am=An._subscribers;var Aq=Am.length;An._onerror=null;Am[Aq]=Ap;Am[Aq+Af]=Al;Am[Aq+Ai]=Ao;if(Aq===0&&An._state){x(T,An)}}function T(Ar){var Am=Ar._subscribers;var Ap=Ar._state;if(Am.length===0){return}var An,Al,Aq=Ar._result;for(var Ao=0;Ao<Am.length;Ao+=3){An=Am[Ao];Al=Am[Ao+Ap];if(An){H(Ap,An,Al,Aq)}else{Al(Aq)}}Ar._subscribers.length=0}function o(){this.error=null}var s=new o();function Ah(An,Al){try{return An(Al)}catch(Am){s.error=Am;return s}}function H(As,Ap,At,An){var Aq=C(At),Am,Ao,Ar,Al;if(Aq){Am=Ah(At,An);if(Am===s){Al=true;Ao=Am.error;Am=null}else{Ar=true}if(Ap===Am){E(Ap,J());return}}else{Am=An;Ar=true}if(Ap._state!==i){}else{if(Aq&&Ar){Ae(Ap,Am)}else{if(Al){E(Ap,Ao)}else{if(As===Af){S(Ap,Am)}else{if(As===Ai){E(Ap,Am)}}}}}}function g(Ap,Al){try{Al(function Ao(Aq){Ae(Ap,Aq)},function Am(Aq){E(Ap,Aq)})}catch(An){E(Ap,An)}}function r(Al,An,Am){if(Al===Af){return{state:"fulfilled",value:Am}}else{return{state:"rejected",reason:Am}}}function Y(An,Am,Ao,Al){this._instanceConstructor=An;this.promise=new An(v,Al);this._abortOnReject=Ao;if(this._validateInput(Am)){this._input=Am;this.length=Am.length;this._remaining=Am.length;this._init();if(this.length===0){S(this.promise,this._result)}else{this.length=this.length||0;this._enumerate();if(this._remaining===0){S(this.promise,this._result)}}}else{E(this.promise,this._validationError())}}Y.prototype._validateInput=function(Al){return Aj(Al)};Y.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")};Y.prototype._init=function(){this._result=new Array(this.length)};var P=Y;Y.prototype._enumerate=function(){var An=this.length;var Ao=this.promise;var Al=this._input;for(var Am=0;Ao._state===i&&Am<An;Am++){this._eachEntry(Al[Am],Am)}};Y.prototype._eachEntry=function(Al,An){var Am=this._instanceConstructor;if(w(Al)){if(Al.constructor===Am&&Al._state!==i){Al._onerror=null;this._settledAt(Al._state,An,Al._result)}else{this._willSettleAt(Am.resolve(Al),An)}}else{this._remaining--;this._result[An]=this._makeResult(Af,An,Al)}};Y.prototype._settledAt=function(Al,An,Am){var Ao=this.promise;if(Ao._state===i){this._remaining--;if(this._abortOnReject&&Al===Ai){E(Ao,Am)}else{this._result[An]=this._makeResult(Al,An,Am)}}if(this._remaining===0){S(Ao,this._result)}};Y.prototype._makeResult=function(Al,An,Am){return Am};Y.prototype._willSettleAt=function(An,Am){var Al=this;Ac(An,undefined,function(Ao){Al._settledAt(Af,Am,Ao)},function(Ao){Al._settledAt(Ai,Am,Ao)})};var W=function t(Al,Am){return new P(this,Al,true,Am).promise};var N=function l(As,Ar){var Am=this;var Ap=new Am(v,Ar);if(!Aj(As)){E(Ap,new TypeError("You must pass an array to race."));return Ap}var Aq=As.length;function Ao(At){Ae(Ap,At)}function An(At){E(Ap,At)}for(var Al=0;Ap._state===i&&Al<Aq;Al++){Ac(Am.resolve(As[Al]),undefined,Ao,An)}return Ap};var F=function Ab(Am,Al){var An=this;if(Am&&typeof Am==="object"&&Am.constructor===An){return Am}var Ao=new An(v,Al);Ae(Ao,Am);return Ao};var B=function K(Am,Al){var An=this;var Ao=new An(v,Al);E(Ao,Am);return Ao};var Ag=0;function b(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function j(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var X=G;function G(Al,Am){this._id=Ag++;this._label=Am;this._state=undefined;this._result=undefined;this._subscribers=[];if(v!==Al){if(!C(Al)){b()}if(!(this instanceof G)){j()}g(this,Al)}}G.all=W;G.race=N;G.resolve=F;G.reject=B;G.prototype={constructor:G,then:function(Ao,Al,Ap){var Aq=this;var An=Aq._state;if(An===Af&&!Ao||An===Ai&&!Al){return this}Aq._onerror=null;var Ar=new this.constructor(v,Ap);var Am=Aq._result;if(An){var As=arguments[An-1];x(function(){H(An,Ar,As,Am)})}else{Ac(Aq,Ar,Ao,Al)}return Ar},"catch":function(Am,Al){return this.then(null,Am,Al)}};var U=function L(){var Al;if(typeof global!=="undefined"){Al=global}else{if(typeof window!=="undefined"&&window.document){Al=window}else{Al=self}}var Am="Promise" in Al&&"resolve" in Al.Promise&&"reject" in Al.Promise&&"all" in Al.Promise&&"race" in Al.Promise&&(function(){var An;new Al.Promise(function(Ao){An=Ao});return C(An)}());if(!Am){Al.Promise=X}};var O={Promise:X,polyfill:U};if(typeof define==="function"&&define["amd"]){define(function(){return O})}else{if(typeof module!=="undefined"&&module["exports"]){module["exports"]=O}else{if(typeof this!=="undefined"){this["ES6Promise"]=O}}}if(this["ES6Promise"]&&window&&!window.Promise){window.Promise=O.Promise;window.polyfill=O.polyfill}}).call(this);(function(F,B){var A=F.origin?F.origin:F.href.split("/").slice(0,3).join("/"),C=A,E=F.href.split("?")[0];window.modules=new B();var D=new Class();D.add({httpDomain:A,httpBase:C,httpFile:E});D.add("onMap",function(H,G){window.modules.maps[H]=G;return this});D.add("setBase",function(G){if(G&&G.length>0){if(/^http:/i.test(G)){this.httpBase=G;this.httpDomain=G.split("/").slice(0,3).join("/")}else{this.httpBase+="/"+G}}if(/\/$/.test(this.httpBase)){this.httpBase=this.httpBase.replace(/\/$/,"")}return this});D.add("proxy",function(G,H){return function(){var I=arguments;return G.apply(H,I)}});window.Library=new D()})(window.location,function(){this.exports={};this.length=0;this.maps={};this.Promise=Promise.resolve()});(function(A,F,C){var E=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g;var H=/\\\\/g;window.define=window.define||function(){var N=[],O=function(){},P=false;for(var I=0;I<arguments.length;I++){var K=arguments[I];if(readVariableType(K,"function")){O=K}else{if(readVariableType(K,"boolean")){P=K}else{N=K}}}if(N&&!readVariableType(N,"array")){N=[N]}var L=new C();var M=B(O.toString());if(M&&M.length>0){N=N.concat(M)}L.dependencies=N;L.factory=O;L.amd=P;if(F){var J=D();if(J){L.__filename=J.src;L.__dirname=L.__filename.split("/").slice(0,-1).join("/");J.__LoaderModule__=L}else{window.__LoaderModule__=L}}else{window.__LoaderModule__=L}};window.define.amd=true;function G(J){var N={};var K=[];for(var L=0,I=J.length;L<I;L++){var M=J[L];if(N[M]!==1){N[M]=1;K.push(M)}}return K}function B(J){var K=[],I;E.lastIndex=0;J=J.replace(H,"");while((I=E.exec(J))){if(I[2]){K.push(I[2])}}return G(K)}function D(){var I=A.getElementsByTagName("script");for(var K=I.length-1;K>=0;K--){var J=I[K];if(J.readyState==="interactive"){return J}}}})(head=document.head||document.getElementsByTagName("head")[0]||document.documentElement,window.navigator.userAgent.indexOf("MSIE")>-1,function(){this.exports={};this.__filename=null;this.__dirname=null;this.dependencies=[];this.factory=null;this.amd=false});(function(A){var H=new Class();var F=/^\/.+/,C=/^http\:\/\//i,E=/^\.\.\/.+/,D=/^\.\/.+/,I=/^\:.+/;H.add("initialize",function(K,J){this.__filename=J;this.__dirname=this.__filename.split("/").slice(0,-1).join("/");this.__loadModule=K;return this.compile()});H.add("loadscript",function(J){return new Promise(function(K){var L=document.createElement("script");L.onload=L.onerror=L.onreadystatechange=function(){if(/loaded|complete|undefined/i.test(L.readyState)){L.onload=L.onerror=L.onreadystatechange=null;K(L)}};L.async=true;L.src=J;A.insertBefore(L,A.firstChild)})});H.add("loadcss",function(L,J,K){return new Promise(function(N){var O=window.document.createElement("link");var M=J||window.document.getElementsByTagName("script")[0];var R=window.document.styleSheets;O.rel="stylesheet";O.href=L;O.media="only x";M.parentNode.insertBefore(O,M);var P=new Date().getTime();function Q(){if(new Date().getTime()-P>30000){reject(O);return}var S;for(var T=0;T<R.length;T++){if(R[T].href&&R[T].href.indexOf(L)>-1){S=true}}if(S){O.media=K||"all";N(O)}else{setTimeout(Q)}}Q()})});H.add("request",function(J){if(/\.css(?:\?|$)/i.test(J)){return this.loadcss(J)}else{return this.loadscript(J)}});H.add("contrast",function(K,J){J=J||this.__dirname;if(K===undefined||typeof K!=="string"){throw"Tronjs Error Message: Error Selector String. It Must Be Exist. Now It Is Undefined.";return}if(window.modules.maps[K]){K=window.modules.maps[K]}if(F.test(K)){K=Library.httpDomain+K}else{if(C.test(K)){K=K}else{if(E.test(K)){K=G(J+"/"+K)}else{if(D.test(K)){K=J+"/"+K.replace(/^\.\//,"")}else{if(I.test(K)){K=K.replace(/^:/,"")}else{K=Library.httpBase+"/"+K}}}}}return K});H.add("resolve",function(K,J){K=this.contrast(K,J);if(!K){return}if(/\.css$/i.test(K)){K=K}else{if(/\.js$/i.test(K)){K=K}else{K+=".js"}}return K});H.add("CompileFactory",function(N,J,Q){var P=N.factory,M=this,K=function(R){R=M.resolve(R,N.__dirname);return window.modules.exports[R].module.exports};var L=null;try{Q=Q.concat([K,N.exports,N]);L=P?P.apply(this,Q):null}catch(O){}window.modules.exports[N.__filename].module=N;window.modules.exports[N.__filename].status=false;if(L){window.modules.exports[N.__filename].module.exports=L}else{if(B(window.modules.exports[N.__filename].module.exports)&&Q.length>3){window.modules.exports[N.__filename].module.exports=Q.slice(0,-3)}}if(/\.js$/.test(N.__filename)){J.parentNode.removeChild(J)}return window.modules.exports[N.__filename].module.exports});H.add("compile",function(){var K=this.resolve(this.__loadModule);var J=this;if(!window.modules.exports[K]){window.modules.exports[K]={status:true,module:{exports:{}}};return new Promise(function(L){J.request(K).then(function(S){var Q=null;if(!S.__LoaderModule__){Q=window.__LoaderModule__;if(Q){Q.__filename=S.src?S.src:S.href;Q.__dirname=Q.__filename.split("/").slice(0,-1).join("/")}else{var M=function(){this.exports={};this.__filename=null;this.__dirname=null;this.dependencies=[];this.factory=null;this.amd=false};Q=new M();Q.__filename=S.src?S.src:(S.href?S.href:S.getAttribute("data-href"));Q.__dirname=Q.__filename.split("/").slice(0,-1).join("/")}}else{Q=S.__LoaderModule__}window.__LoaderModule__=null;if(Q.dependencies&&Q.dependencies.length>0){if(!Q.amd){var R=[];for(var O=0;O<Q.dependencies.length;O++){R.push(new H(Q.dependencies[O],Q.__filename))}Promise.all(R).then(function(){var T=Array.prototype.slice.call(arguments[0],0);L(J.CompileFactory(Q,S,T))})}else{var N=[];var P=function(V,W,T){if(V+1>W.dependencies.length){T()}else{var U=new H(W.dependencies[V],W.__filename);U.then(function(X){N.push(X[0]);P(++V,W,T)})}};P(0,Q,function(){L(J.CompileFactory(Q,S,N))})}}else{L(J.CompileFactory(Q,S,[]))}})})}else{if(window.modules.exports[K].status){return new Promise(function(L){var M=function(){setTimeout(function(){if(!window.modules.exports[K].status){L(window.modules.exports[K].module.exports)}else{M()}},1)};M()})}else{return Promise.resolve(window.modules.exports[K].module.exports)}}});window.require=function(J,K){return window.modules.Promise=window.modules.Promise.then(function(){if(!readVariableType(J,"array")){J=[J]}var M=[];for(var L=0;L<J.length;L++){M.push(new H(J[L],window.Library.httpFile))}return Promise.all(M).then(function(){typeof K==="function"&&K.apply(this,arguments[0]);return arguments[0]})})};function G(O){var N=O.replace(Library.httpDomain,"");if(/^\//.test(N)){N=N.replace(/^\//,"")}var M=N.split("/"),L=M.indexOf("..");if(L>-1){L--;if(L<0){L=0;M.splice(0,1)}else{M.splice(L,2)}var J=M.join("/");if(!C.test(J)){J=Library.httpDomain+"/"+J}return G(J)}else{var K=M.join("/");if(!C.test(K)){K=Library.httpDomain+"/"+K}return K}}function B(J){var L=0;for(var K in J){L++}return L===0}})(head=document.head||document.getElementsByTagName("head")[0]||document.documentElement);(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());