if(![].indexOf){Array.prototype.indexOf=function(B){var C=-1;for(var A=0;A<this.length;A++){if(B===this[A]){C=A;break}}return C};Array.prototype.lastIndexOf=function(B){var C=-1;for(var A=this.length-1;A>-1;A--){if(B===this[A]){C=A;break}}return C}}if(![].forEach){Array.prototype.forEach=function(A){for(var B=0;B<this.length;B++){if(typeof A==="function"){A.call(this,this[B],B)}}}}if(typeof JSON==="undefined"){window.JSON=new Object()}window.readVariableType=function(B,A){return Object.prototype.toString.call(B).toLowerCase()==="[object "+A+"]"};(function(){window.Class=function(){var A=["__constructor__","initialize"],B=arguments,C=this;var D=function(){this.__constructor__="ECM.CLASS.FACTORY";return typeof this.initialize==="function"?this.initialize.apply(this,arguments):this};this.constructor=D;this.constructor.__constructor__=this.__constructor__="ECM.CLASS";this.constructor.extend=function(F){if(F.__constructor__&&F.__constructor__==="ECM.CLASS"){if(F.prototype){for(var E in F.prototype){if(A.indexOf(E)===-1){C.constructor.prototype[E]=F.prototype[E]}}}}return C.constructor};this.constructor.toggle=function(E){if(!E){return C.constructor}if(readVariableType(E)!=="array"){E=[E]}for(var F=0;F<E.length;F++){C.constructor.extend(E[F])}return C.constructor};this.constructor.add=function(E,G){if(!G){for(var F in E){C.constructor.add(F,E[F])}}else{C.constructor.prototype[E]=G}return C.constructor};if(B.length===2){this.constructor.extend(B[0]);this.constructor.add(B[1])}else{if(B.length===1){if(B[0]&&B[0].__constructor__&&B[0].__constructor__==="ECM.CLASS"){this.constructor.extend(B[0])}else{if(typeof B[0]==="function"){this.constructor.add("initialize",B[0])}else{this.constructor.add(B[0])}}}}return this.constructor}})();(function(){function d(Al){return typeof Al==="function"||(typeof Al==="object"&&Al!==null)}function l(Al){return typeof Al==="function"}function Z(Al){return typeof Al==="object"&&Al!==null}var D;if(!Array.isArray){D=function(Al){return Object.prototype.toString.call(Al)==="[object Array]"}}else{D=Array.isArray}var J=D;var x=Date.now||function(){return new Date().getTime()};function q(){}var j=(Object.create||function(Al){if(arguments.length>1){throw new Error("Second argument not supported")}if(typeof Al!=="object"){throw new TypeError("Argument must be an object")}q.prototype=Al;return new q()});var y=0;var k=function Aa(Al,Am){Af[y]=Al;Af[y+1]=Am;y+=2;if(y===2){o()}};var F=(typeof window!=="undefined")?window:{};var O=F.MutationObserver||F.WebKitMutationObserver;var r=typeof Uint8ClampedArray!=="undefined"&&typeof importScripts!=="undefined"&&typeof MessageChannel!=="undefined";function V(){return function(){process.nextTick(Ai)}}function c(){var Am=0;var An=new O(Ai);var Al=document.createTextNode("");An.observe(Al,{characterData:true});return function(){Al.data=(Am=++Am%2)}}function R(){var Al=new MessageChannel();Al.port1.onmessage=Ai;return function(){Al.port2.postMessage(0)}}function L(){return function(){setTimeout(Ai,1)}}var Af=new Array(1000);function Ai(){for(var Am=0;Am<y;Am+=2){var Al=Af[Am];var An=Af[Am+1];Al(An);Af[Am]=undefined;Af[Am+1]=undefined}y=0}var o;if(typeof process!=="undefined"&&{}.toString.call(process)==="[object process]"){o=V()}else{if(O){o=c()}else{if(r){o=R()}else{o=L()}}}function Ae(){}var e=void 0;var t=1;var P=2;var I=new T();function W(){return new TypeError("You cannot resolve a promise with itself")}function n(){return new TypeError("A promises callback cannot return that same promise.")}function Ah(Al){try{return Al.then}catch(Am){I.error=Am;return I}}function U(Al,An,Ao,Ap){try{Al.call(An,Ao,Ap)}catch(Am){return Am}}function a(Am,An,Al){k(function(Ap){var Ao=false;var Aq=U(Al,An,function(Ar){if(Ao){return}Ao=true;if(An!==Ar){b(Ap,Ar)}else{Ab(Ap,Ar)}},function(Ar){if(Ao){return}Ao=true;A(Ap,Ar)},"Settle: "+(Ap._label||" unknown promise"));if(!Ao&&Aq){Ao=true;A(Ap,Aq)}},Am)}function v(Al,Am){if(Am._state===t){Ab(Al,Am._result)}else{if(Al._state===P){A(Al,Am._result)}else{N(Am,undefined,function(An){b(Al,An)},function(An){A(Al,An)})}}}function G(An,Am){if(Am.constructor===An.constructor){v(An,Am)}else{var Al=Ah(Am);if(Al===I){A(An,I.error)}else{if(Al===undefined){Ab(An,Am)}else{if(l(Al)){a(An,Am,Al)}else{Ab(An,Am)}}}}}function b(Al,Am){if(Al===Am){A(Al,W())}else{if(d(Am)){G(Al,Am)}else{Ab(Al,Am)}}}function C(Al){if(Al._onerror){Al._onerror(Al._result)}Ac(Al)}function Ab(Al,Am){if(Al._state!==e){return}Al._result=Am;Al._state=t;if(Al._subscribers.length===0){}else{k(Ac,Al)}}function A(Am,Al){if(Am._state!==e){return}Am._state=P;Am._result=Al;k(C,Am)}function N(Aq,Ao,Al,Ap){var An=Aq._subscribers;var Am=An.length;Aq._onerror=null;An[Am]=Ao;An[Am+t]=Al;An[Am+P]=Ap;if(Am===0&&Aq._state){k(Ac,Aq)}}function Ac(Aq){var Am=Aq._subscribers;var Ar=Aq._state;if(Am.length===0){return}var Ap,Al,Ao=Aq._result;for(var An=0;An<Am.length;An+=3){Ap=Am[An];Al=Am[An+Ar];if(Ap){s(Ar,Ap,Al,Ao)}else{Al(Ao)}}Aq._subscribers.length=0}function T(){this.error=null}var M=new T();function Aj(Al,An){try{return Al(An)}catch(Am){M.error=Am;return M}}function s(Ar,Al,Ap,At){var An=l(Ap),Ao,Am,As,Aq;if(An){Ao=Aj(Ap,At);if(Ao===M){Aq=true;Am=Ao.error;Ao=null}else{As=true}if(Al===Ao){A(Al,n());return}}else{Ao=At;As=true}if(Al._state!==e){}else{if(An&&As){b(Al,Ao)}else{if(Aq){A(Al,Am)}else{if(Ar===t){Ab(Al,Ao)}else{if(Ar===P){A(Al,Ao)}}}}}}function Ad(An,Al){try{Al(function Ap(Aq){b(An,Aq)},function Ao(Aq){A(An,Aq)})}catch(Am){A(An,Am)}}function z(An,Al,Am){if(An===t){return{state:"fulfilled",value:Am}}else{return{state:"rejected",reason:Am}}}function h(Am,Ao,An,Al){this._instanceConstructor=Am;this.promise=new Am(Ae,Al);this._abortOnReject=An;if(this._validateInput(Ao)){this._input=Ao;this.length=Ao.length;this._remaining=Ao.length;this._init();if(this.length===0){Ab(this.promise,this._result)}else{this.length=this.length||0;this._enumerate();if(this._remaining===0){Ab(this.promise,this._result)}}}else{A(this.promise,this._validationError())}}h.prototype._validateInput=function(Al){return J(Al)};h.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")};h.prototype._init=function(){this._result=new Array(this.length)};var w=h;h.prototype._enumerate=function(){var Al=this.length;var An=this.promise;var Ao=this._input;for(var Am=0;An._state===e&&Am<Al;Am++){this._eachEntry(Ao[Am],Am)}};h.prototype._eachEntry=function(Am,Al){var An=this._instanceConstructor;if(Z(Am)){if(Am.constructor===An&&Am._state!==e){Am._onerror=null;this._settledAt(Am._state,Al,Am._result)}else{this._willSettleAt(An.resolve(Am),Al)}}else{this._remaining--;this._result[Al]=this._makeResult(t,Al,Am)}};h.prototype._settledAt=function(Ao,Al,An){var Am=this.promise;if(Am._state===e){this._remaining--;if(this._abortOnReject&&Ao===P){A(Am,An)}else{this._result[Al]=this._makeResult(Ao,Al,An)}}if(this._remaining===0){Ab(Am,this._result)}};h.prototype._makeResult=function(An,Al,Am){return Am};h.prototype._willSettleAt=function(An,Al){var Am=this;N(An,undefined,function(Ao){Am._settledAt(t,Al,Ao)},function(Ao){Am._settledAt(P,Al,Ao)})};var Ag=function g(Am,Al){return new w(this,Am,true,Al).promise};var Y=function S(Ar,An){var Ao=this;var Ap=new Ao(Ae,An);if(!J(Ar)){A(Ap,new TypeError("You must pass an array to race."));return Ap}var Am=Ar.length;function As(At){b(Ap,At)}function Al(At){A(Ap,At)}for(var Aq=0;Ap._state===e&&Aq<Am;Aq++){N(Ao.resolve(Ar[Aq]),undefined,As,Al)}return Ap};var H=function f(An,Al){var Am=this;if(An&&typeof An==="object"&&An.constructor===Am){return An}var Ao=new Am(Ae,Al);b(Ao,An);return Ao};var K=function X(Ao,Al){var Am=this;var An=new Am(Ae,Al);A(An,Ao);return An};var p=0;function u(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function m(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}var Ak=E;function E(Am,Al){this._id=p++;this._label=Al;this._state=undefined;this._result=undefined;this._subscribers=[];if(Ae!==Am){if(!l(Am)){u()}if(!(this instanceof E)){m()}Ad(this,Am)}}E.all=Ag;E.race=Y;E.resolve=H;E.reject=K;E.prototype={constructor:E,then:function(Ar,Am,Ap){var As=this;var An=As._state;if(An===t&&!Ar||An===P&&!Am){return this}As._onerror=null;var Aq=new this.constructor(Ae,Ap);var Al=As._result;if(An){var Ao=arguments[An-1];k(function(){s(An,Aq,Ao,Al)})}else{N(As,Aq,Ar,Am)}return Aq},"catch":function(Am,Al){return this.then(null,Am,Al)}};var Q=function B(){var Am;if(typeof global!=="undefined"){Am=global}else{if(typeof window!=="undefined"&&window.document){Am=window}else{Am=self}}var Al="Promise" in Am&&"resolve" in Am.Promise&&"reject" in Am.Promise&&"all" in Am.Promise&&"race" in Am.Promise&&(function(){var An;new Am.Promise(function(Ao){An=Ao});return l(An)}());if(!Al){Am.Promise=Ak}};var i={Promise:Ak,polyfill:Q};if(typeof define==="function"&&define["amd"]){define(function(){return i})}else{if(typeof module!=="undefined"&&module["exports"]){module["exports"]=i}else{if(typeof this!=="undefined"){this["ES6Promise"]=i}}}if(this["ES6Promise"]&&window&&!window.Promise){window.Promise=i.Promise;window.polyfill=i.polyfill}}).call(this);(function(D,E){var F=D.origin?D.origin:D.href.split("/").slice(0,3).join("/"),C=F,A=D.href.split("?")[0];window.modules=new E();var B=new Class();B.add({httpDomain:F,httpBase:C,httpFile:A});B.add("onMap",function(G,H){window.modules.maps[G]=H;return this});B.add("setBase",function(G){if(G&&G.length>0){if(/^http:/i.test(G)){this.httpBase=G;this.httpDomain=G.split("/").slice(0,3).join("/")}else{this.httpBase+="/"+G}}if(/\/$/.test(this.httpBase)){this.httpBase=this.httpBase.replace(/\/$/,"")}return this});B.add("proxy",function(H,G){return function(){var I=arguments;return H.apply(G,I)}});window.Library=new B()})(window.location,function(){this.exports={};this.length=0;this.maps={};this.Promise=Promise.resolve()});(function(H,A,G){var B=/"(?:\\"|[^"])*"|'(?:\\'|[^'])*'|\/\*[\S\s]*?\*\/|\/(?:\\\/|[^/\r\n])+\/(?=[^\/])|\/\/.*|\.\s*require|(?:^|[^$])\brequire\s*\(\s*(["'])(.+?)\1\s*\)/g;var C=/\\\\/g;window.__LoaderModule__=[];window.define=window.define||function(){var J=null;dependencies=[],factory=function(){},amd=false;for(var I=0;I<arguments.length;I++){var K=arguments[I];if(readVariableType(K,"function")){factory=K}else{if(readVariableType(K,"boolean")){amd=K}else{if(readVariableType(K,"array")){dependencies=K}else{if(readVariableType(K,"string")){J=K}else{factory=K}}}}}var L=new G();var N=D(factory.toString());if(N&&N.length>0){dependencies=dependencies.concat(N)}L.__filename=J;L.dependencies=dependencies;L.factory=factory;L.amd=amd;var M=null;if(A){M=F()}window.__LoaderModule__.push(L);if(A&&M){M.__LoaderModule__=Array.prototype.slice.call(window.__LoaderModule__,0);window.__LoaderModule__=[]}};window.define.amd=true;function E(M){var J={};var L=[];for(var I=0,N=M.length;I<N;I++){var K=M[I];if(J[K]!==1){J[K]=1;L.push(K)}}return L}function D(I){var K=[],J;B.lastIndex=0;I=I.replace(C,"");while((J=B.exec(I))){if(J[2]){K.push(J[2])}}return E(K)}function F(){var J=H.getElementsByTagName("script");for(var I=J.length-1;I>=0;I--){var K=J[I];if(K.readyState==="interactive"){return K}}}})(head=document.head||document.getElementsByTagName("head")[0]||document.documentElement,window.navigator.userAgent.indexOf("MSIE")>-1,function(){this.exports={};this.__filename=null;this.__dirname=null;this.dependencies=[];this.factory=null;this.amd=false});(function(K){var A=new Class();var E=/^\/.+/,D=/^http\:\/\//i,J=/^\.\.\/.+/,H=/^\.\/.+/,I=/^\:.+/;A.add("initialize",function(M,L){this.__filename=L;this.__dirname=this.__filename.split("/").slice(0,-1).join("/");this.__loadModule=M;return this.compile()});A.add("loadscript",function(L){return new Promise(function(M){var N=document.createElement("script");N.onload=N.onerror=N.onreadystatechange=function(){if(/loaded|complete|undefined/i.test(N.readyState)){N.onload=N.onerror=N.onreadystatechange=null;M(N)}};N.async=true;N.src=L;K.insertBefore(N,K.firstChild)})});A.add("loadcss",function(L,N,M){return new Promise(function(P){var O=window.document.createElement("link");var Q=N||window.document.getElementsByTagName("script")[0];var R=window.document.styleSheets;O.rel="stylesheet";O.href=L;O.media="only x";Q.parentNode.insertBefore(O,Q);var S=new Date().getTime();function T(){if(new Date().getTime()-S>30000){reject(O);return}var V;for(var U=0;U<R.length;U++){if(R[U].href&&R[U].href.indexOf(L)>-1){V=true}}if(V){O.media=M||"all";P(O)}else{setTimeout(T)}}T()})});A.add("request",function(L){if(/\.css(?:\?|$)/i.test(L)){return this.loadcss(L)}else{return this.loadscript(L)}});function F(M,L){if(M===undefined||typeof M!=="string"){throw"Tronjs Error Message: Error Selector String. It Must Be Exist. Now It Is Undefined.";return}if(window.modules.maps[M]){M=window.modules.maps[M]}if(E.test(M)){M=Library.httpDomain+M}else{if(D.test(M)){M=M}else{if(J.test(M)){M=G(L+"/"+M)}else{if(H.test(M)){M=L+"/"+M.replace(/^\.\//,"")}else{if(I.test(M)){M=M.replace(/^:/,"").replace(/^\//,"");M=Library.httpBase+"/"+M}else{M=L+"/"+M.replace(/^\.\//,"")}}}}}return M}function C(M,L){M=F(M,L);if(!M){return}if(/\.css$/i.test(M)){M=M}else{if(/\.js$/i.test(M)){M=M}else{M+=".js"}}return M}A.add("contrast",function(M,L){L=L||this.__dirname;return F(M,L)});A.add("resolve",function(M,L){L=L||this.__dirname;return C(M,L)});A.add("inRequire",function(M,L){if(window.modules.exports[M]){return window.modules.exports[M].module.exports}else{M=this.resolve(M,L);return window.modules.exports[M].module.exports}});A.add("CompileFactory",function(L,M){var R=L.factory,N=this,O=function(S){if(window.modules.exports[S]){return window.modules.exports[S].module.exports}else{S=N.resolve(S,L.__dirname);return window.modules.exports[S].module.exports}};var P=null;try{M=M.concat([O,L.exports,L]);if(typeof R==="function"){P=R.apply(window.modules.exports[L.__modulename].module.exports,M)||null}else{P=R}}catch(Q){P=window.modules.exports[L.__modulename].module.exports}window.modules.exports[L.__modulename].module=L;window.modules.exports[L.__modulename].status=false;if(P){window.modules.exports[L.__modulename].module.exports=P}return window.modules.exports[L.__modulename].module.exports});A.add("inDefineResolve",function(L,N,M){if(window.modules.maps[L]){L=window.modules.maps[L]}if(E.test(L)){L=M+L}else{if(D.test(L)){L=L}else{if(J.test(L)){L=G(M+"/"+L)}else{if(H.test(L)){L=M+"/"+L.replace(/^\.\//,"")}else{L=N+"/"+L.replace(/^\.\//,"")}}}}return L});A.add("parseModules",function(Q){var T=null,L=null,P=this;if(!Q.__LoaderModule__){T=Array.prototype.slice.call(window.__LoaderModule__,0)}else{T=Q.__LoaderModule__}if(T.length>0){var U=[];for(var O=0;O<T.length;O++){var N=[],M=0;if(!T[O].__filename||T[O].__filename.length===0){T[O].inDefine=false;T[O].__filename=Q.src?Q.src:Q.href;T[O].__modulename=T[O].__filename;T[O].__dirname=T[O].__filename.split("/").slice(0,-1).join("/");N=[];for(M=0;M<T[O].dependencies.length;M++){N.push(P.resolve(T[O].dependencies[M],T[O].__dirname))}T[O].dependencies=N}else{var R=Q.src?Q.src:Q.href;var V=this.resolve(T[O].__filename,R.split("/").slice(0,-1).join("/"));T[O].inDefine=true;T[O].__modulename=V;T[O].__filename=R;T[O].__dirname=R.split("/").slice(0,-1).join("/");N=[];for(M=0;M<T[O].dependencies.length;M++){N.push(P.inDefineResolve(T[O].dependencies[M],T[O].__dirname,T[O].__modulename.split("/").slice(0,-1).join("/")))}T[O].dependencies=N}U.push(T[O])}T=U}else{var S=function(){this.exports={};this.__filename=null;this.__modulename=null;this.__dirname=null;this.dependencies=[];this.factory=null;this.amd=false};L=new S();L.inDefine=false;L.__filename=Q.src?Q.src:Q.href;L.__modulename=L.__filename;L.__dirname=L.__filename.split("/").slice(0,-1).join("/");T=[L]}window.__LoaderModule__=[];return T});A.add("parseModuleDependencies",function(L,N,P){var R=[],O=this;for(var M=0;M<L.length;M++){var Q=L[M];R.push(new Promise(function(V){var U=Q;if(!window.modules.exports[U.__modulename]){window.modules.exports[U.__modulename]={status:true,module:{exports:{},inDefine:U.inDefine}};if(U.dependencies&&U.dependencies.length>0){if(!U.amd){var S=[];for(var T=0;T<U.dependencies.length;T++){S.push(new A(U.dependencies[T],U.__filename))}Promise.all(S).then(function(){var Y=[];for(var Z=0;Z<U.dependencies.length;Z++){Y.push(O.inRequire(U.dependencies[Z],U.__dirname))}O.CompileFactory(U,Y);V()})}else{var W=[];var X=function(a,Z,Y){if(a+1>Z.dependencies.length){Y()}else{var b=new A(Z.dependencies[a],Z.__filename);b.then(function(){W.push(O.inRequire(Z.dependencies[a],Z.__dirname));X(++a,Z,Y)})}};X(0,U,function(){O.CompileFactory(U,W);V()})}}else{O.CompileFactory(U,[]);V()}}else{O.parseResolveRequire(U.__modulename,V,U.inDefine)}}))}Promise.all(R).then(function(){var S=P.src?P.src:P.href;if(/\.js$/.test(S)){P.parentNode.removeChild(P)}N()})});A.add("parseResolveRequire",function(L,P,O){var M=this;var N=function(Q,R){if(O){R()}else{var S=function(){setTimeout(function(){if(!window.modules.exports[L].status){R()}else{S()}},1)};S()}};if(window.modules.exports[L].status){if(!P){return new Promise(function(Q){N(L,Q)})}else{N(L,P)}}else{if(!P){return Promise.resolve()}else{P()}}});A.add("compile",function(){var M=this;var L=this.resolve(this.__loadModule);if(!window.modules.exports[L]){return new Promise(function(N){M.request(L).then(function(O){M.parseModuleDependencies(M.parseModules(O),N,O)})})}else{return this.parseResolveRequire(L,null,window.modules.exports[L].module.inDefine)}});window.require=function(M,L){return window.modules.Promise=window.modules.Promise.then(function(){if(!readVariableType(M,"array")){M=[M]}var P=[],O=[];for(var N=0;N<M.length;N++){P.push(new A(M[N],window.Library.httpFile));O.push(C(M[N],window.Library.httpFile.split("/").slice(0,-1).join("/")))}return Promise.all(P).then(function(){var Q=[];for(var R=0;R<O.length;R++){Q.push(window.modules.exports[O[R]].module.exports)}typeof L==="function"&&L.apply(null,Q);return Q})})};function G(M){var L=M.replace(Library.httpDomain,"");if(/^\//.test(L)){L=L.replace(/^\//,"")}var N=L.split("/"),P=N.indexOf("..");if(P>-1){P--;if(P<0){P=0;N.splice(0,1)}else{N.splice(P,2)}var O=N.join("/");if(!D.test(O)){O=Library.httpDomain+"/"+O}return G(O)}else{var Q=N.join("/");if(!D.test(Q)){Q=Library.httpDomain+"/"+Q}return Q}}function B(M){var N=0;for(var L in M){N++}return N===0}})(head=document.head||document.getElementsByTagName("head")[0]||document.documentElement);(function(){function f(n){return n<10?"0"+n:n}if(typeof Date.prototype.toJSON!=="function"){Date.prototype.toJSON=function(key){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null};String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(key){return this.valueOf()}}var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(string){escapable.lastIndex=0;return escapable.test(string)?'"'+string.replace(escapable,function(a){var c=meta[a];return typeof c==="string"?c:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+string+'"'}function str(key,holder){var i,k,v,length,mind=gap,partial,value=holder[key];if(value&&typeof value==="object"&&typeof value.toJSON==="function"){value=value.toJSON(key)}if(typeof rep==="function"){value=rep.call(holder,key,value)}switch(typeof value){case"string":return quote(value);case"number":return isFinite(value)?String(value):"null";case"boolean":case"null":return String(value);case"object":if(!value){return"null"}gap+=indent;partial=[];if(Object.prototype.toString.apply(value)==="[object Array]"){length=value.length;for(i=0;i<length;i+=1){partial[i]=str(i,value)||"null"}v=partial.length===0?"[]":gap?"[\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"]":"["+partial.join(",")+"]";gap=mind;return v}if(rep&&typeof rep==="object"){length=rep.length;for(i=0;i<length;i+=1){if(typeof rep[i]==="string"){k=rep[i];v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}else{for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=str(k,value);if(v){partial.push(quote(k)+(gap?": ":":")+v)}}}}v=partial.length===0?"{}":gap?"{\n"+gap+partial.join(",\n"+gap)+"\n"+mind+"}":"{"+partial.join(",")+"}";gap=mind;return v}}if(typeof JSON.stringify!=="function"){JSON.stringify=function(value,replacer,space){var i;gap="";indent="";if(typeof space==="number"){for(i=0;i<space;i+=1){indent+=" "}}else{if(typeof space==="string"){indent=space}}rep=replacer;if(replacer&&typeof replacer!=="function"&&(typeof replacer!=="object"||typeof replacer.length!=="number")){throw new Error("JSON.stringify")}return str("",{"":value})}}if(typeof JSON.parse!=="function"){JSON.parse=function(text,reviver){var j;function walk(holder,key){var k,v,value=holder[key];if(value&&typeof value==="object"){for(k in value){if(Object.prototype.hasOwnProperty.call(value,k)){v=walk(value,k);if(v!==undefined){value[k]=v}else{delete value[k]}}}}return reviver.call(holder,key,value)}text=String(text);cx.lastIndex=0;if(cx.test(text)){text=text.replace(cx,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})}if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,""))){j=eval("("+text+")");return typeof reviver==="function"?walk({"":j},""):j}throw new SyntaxError("JSON.parse")}}}());